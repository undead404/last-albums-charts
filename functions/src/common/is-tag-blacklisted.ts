/* eslint-disable sonarjs/no-duplicated-branches */
import endsWith from 'lodash/endsWith';
import includes from 'lodash/includes';
import some from 'lodash/some';
import startsWith from 'lodash/startsWith';

import logger from './logger';

const BLACKLISTED_TAGS = [
  '<3',
  '1001 albums you must hear before you die',
  '200 great albums owned by sideflower',
  '2cd',
  '4',
  '8 soothing songs for rut',
  'a',
  'acquire',
  'agitada',
  'album',
  'album collection',
  'album i own',
  'albums',
  'albumsiown',
  'all',
  'all aboard the failboat',
  'all things annoying in the world put together into one stupid bitch',
  'all time favourites',
  'amazing',
  'ambient dildocore',
  'anal pop',
  'anal vocalist',
  'annoying',
  'approved',
  'approximately 1000 times less pleasant than extreme anal caving',
  'as awesome has having testicles in your face when you wake up',
  'asscore',
  'attention whore',
  'availableonemusic',
  'awesome',
  'awesomeness',
  'awful',
  'bad',
  'bad music',
  'bad taste',
  'barneycore',
  'beautiful',
  'beautiful album covers',
  'beauty',
  'best',
  'best album',
  'best album ever',
  'best albums ever',
  'better die than listen to this',
  'better than radiohead',
  'bizarre',
  'boring',
  'brilliant',
  'brilliant record',
  'brutal fagcore',
  'brutal nazi scumcore with fascist influence and guest vocalist adolf hitler',
  'bullshit',
  'buy',
  'cant sing',
  'catchy',
  'cd',
  'check',
  'check out - friends',
  'cd collection',
  'cds i know i love',
  'cds i own',
  'check out',
  'collected',
  'colossal faggot',
  'compact discs i own',
  'con artist',
  'cool',
  'coolest album art',
  'crap',
  'crappy english versions of german stuff',
  'creamed my pants',
  'cronowish power',
  'cunt',
  'cute',
  'darksky fm',
  'darkwave my ass',
  'decent',
  'deep',
  'derivative',
  'det snurrar i min skalle',
  'deviliscious432',
  'dicky',
  'dildocore',
  'discover',
  'disgrace to society',
  'dont have',
  'douchebag',
  'download',
  'dr gay and his gang of faggots',
  'dull',
  'dumb',
  'eargasm',
  'ecstasy',
  'emogaycore',
  'emusic download',
  'ep',
  'epic bitch',
  'epic fail',
  'essential',
  'everything',
  'everytime you listen to this crap a truck hits a granny',
  'exciting',
  'experimental my ass',
  'exuberant',
  'faggot',
  'failure',
  'fantastic',
  'fap',
  'fart machine',
  'fat',
  'fav',
  'fav album',
  'faves of the year',
  'favs of nocci',
  'fellating the bottom of a bottle of wine',
  'fip',
  'flat-out amazing records that everyone should have in their cd collection',
  'flawless',
  'flop',
  'for howisya to hear',
  'free complete album to check out',
  'free tracks',
  'freedom',
  'fucking awesome',
  'fully streamable',
  'fun',
  'funny',
  'garbage',
  'gay',
  'gay metal',
  'gay nigger black metal',
  'gaycore',
  'generic',
  'genius',
  'glorify my drug usage',
  'goatse',
  'god-like',
  'god-tier guitar',
  'godlike drumming',
  'good',
  'gossip',
  'goth music for pussies',
  'gothic my ass',
  'grade a',
  'great',
  'great album',
  'great album covers',
  'great live band go see them',
  'great lyricists',
  'great lyrics',
  'greatest hits',
  'guilty pleasure',
  'handleliste',
  'has',
  'hate my nation',
  'hilarious',
  'hipster garabe',
  'hipster garbage',
  'hiv positive',
  'homeless on the streets giving handjobs for crack',
  'homocore',
  'horrible',
  'hot',
  'idiot',
  'idioten',
  'idiotic',
  'in my collection',
  'in queue',
  'internet',
  'ironic',
  'all-time-favorite',
  'its not indie assholes',
  'just put your what what deep in my butt butt and let juice fly and ill soak up the what what in the butt butt penis fish meat carebears',
  'k1r7m',
  'kacke',
  'kategorische elative',
  'kayfovo',
  'kept in freezer to be served as dinner',
  'kitsch',
  'kvlt',
  'lame',
  'laptop',
  'leather daddy rape soundtrack',
  'legend',
  'legendary',
  'legendary night music for chads',
  'life',
  'list',
  'listen',
  'lol',
  'lolfest',
  'lost',
  'love',
  'love at first listen',
  'love it',
  'lovely',
  'masterpiece',
  'me',
  'mediocore',
  'mediocre',
  'megadeth',
  'mein house',
  'mein virtuelles musikregal',
  'meine party',
  'melodic dildocore',
  'menacing',
  'metal for teletubbies',
  'metal of god',
  'micropenis',
  'milestones',
  'misanthropic gay romance nostalgia metal',
  'misc',
  'monakitty432',
  'moody',
  'more gay than a san fransisco man in a hawaiian shirt sniffing some liquid gold and watching sex in the city',
  'moronic',
  'most amazing bands in the fucking world',
  'most loved',
  'mtv trash',
  'music to listen while pederasting',
  'must have',
  'nazi shit',
  'need to check this out',
  'new',
  'nice',
  'nice album art',
  'nicenoise',
  'no talent',
  'not on my computer anymore',
  'of',
  'officially retarded',
  'officially shit',
  'on repeat',
  'one of the greatest album i ever heard',
  'ot-free listening',
  'overrated',
  'own',
  'own on vinyl',
  'owned',
  'part of my vinyl collection',
  'pathetic',
  'pederastcore',
  'people i dont want to have sex with',
  'people who have no talent',
  'pile of plastic',
  'piss',
  'pitchfork best new music',
  'pitchfork: best new music',
  'playlist',
  'please assassinate',
  'posluchac',
  'post anal experience',
  'post-anal experience',
  'pretentious',
  'psycho',
  'pussycore',
  'puuma85 musicians',
  'queen of flop',
  'quirky',
  'racism in music sucks',
  'raped in public by barney',
  'rapes my ears',
  'rather good stuff',
  'really violent sex that is not only extremely bloody but also can scar people forever as well as haunt people in their dreams and plus it can turn innocent people into bloodthirsty killers that have no mercy for their victims',
  'recent music heroes',
  'reckless',
  'records i consider buying',
  'records i own',
  'registret',
  'reincarnation of hitler',
  'retarded',
  'review on schwermetall-ch',
  'reviewed',
  'reviewed in the guardian',
  'ridiculous',
  'ripped',
  'rousing',
  'rsyniklaced',
  'satanic dildocore',
  'satanic garbage',
  'satanic shit',
  'scheisse',
  'schoene musik',
  'scryed edward tracks power',
  'seen live',
  'sellout',
  'sex',
  'sexy',
  'shit',
  'shit being pumped into my head through a fire hose',
  'shit only a fag would listen to',
  'shit only a retard would listen to',
  'shit to check out',
  'shitcore',
  'sick',
  'signed album i own',
  'sincerely yours',
  'slut',
  'slut pop',
  'so bad its good',
  'so zorry',
  'songs i never get sick of',
  'songs played obsessively on repeat at some point',
  'songs to play after you sit for an hour waiting for a bus',
  'sounds like a woman driving a vehicle with a manual transmission',
  'spermgrind',
  'sprawling',
  'streamable',
  'stupid',
  'stylish',
  'suavesfabio power',
  'superb song to drive to',
  'superr',
  'talentless',
  'technical perfection',
  'terrible',
  'test',
  'the absolute finest piece of music which has ever stroken my ears and soul',
  'the best',
  'the gayest thing ever to happen to music',
  'the victims of chernobyl',
  'the worst thing ever to happen to music',
  'they look like serial prostitutes with fake dildos to scare little kids',
  'this album is pretty neat though',
  'this is garbage and you know it',
  'to buy',
  'to check out',
  'to listen',
  'top',
  'torture for my ears',
  'trash',
  'trashbag filled with vomit',
  'trite',
  'troll',
  'truth',
  'try before i buy',
  'trying too hard',
  'ugly',
  'ugly vocalists',
  'uglycore',
  'uncreative',
  'under 2000 listeners',
  'under 87665009756551896889899987854287765479831234470946568933668823144561 listeners',
  'underrated',
  'unforgettable songs from when i was a teenager',
  'unique',
  'unlistenable',
  'untalented',
  'urgent',
  'used at guantanamo bay',
  'very good',
  'vinyl',
  'vinyl i own',
  'vinyls i own',
  'violates the geneva convention',
  'visceral',
  'visual gay',
  'volatile',
  'waahh i love it',
  'wanking and crying while running a marathon',
  'wanted',
  'waste of valuable human sperm',
  'what a waste of site resources',
  'what should i listen to next',
  'when i listen to them i dont have to buy peptobysmol anymore',
  'white powder',
  'whore',
  'why does this person have to haunt decent people even on last fm',
  'will you tell me the secret of flop',
  'winamp',
  'wishlist',
  'worst',
  'worst ever',
  'worthless',
  'wow',
  'wtf',
  'you candle sniffing fuck fence go climb a wall of dicks you double nigger',
  'your ears will bleed',
];

const BLACKLISTED_TAG_STARTS = [
  ' ',
  'album of ',
  'albums ',
  'albums bought by ',
  'altar of the metal gods',
  'best ',
  'excellent',
  'favorite',
  'favourite',
  'fucking great ',
  'harukaex',
  'i ',
  'music i ',
  'my ',
  'perfect',
  'purchased',
  'the best ',
  'top ',
  'under the radar',
  'valkyeriex',
  'valkyreiex',
  'valkyriex',
  'worse than ',
  'worst ',
];
const BLACKLISTED_TAG_ENDS = [
  ' albums',
  ' releases',
  ' stars',
  'buttcore',
  'kircore',
  'peniscore',
  'scum',
  'scumcore',
];

const MIN_TAG_NAME_LENGTH = 2;
const MAX_TAG_NAME_LENGTH = 50;
const NUMERIC_RE = /^\d+$/;

export default function isTagBlacklisted(tagName: string): boolean {
  let result = false;
  if (tagName.length < MIN_TAG_NAME_LENGTH) {
    result = true;
    logger.debug(`isTagBlacklisted(${tagName}) => ${result}: length`);
  } else if (tagName.length > MAX_TAG_NAME_LENGTH) {
    result = true;
    logger.debug(`isTagBlacklisted(${tagName}) => ${result}: length`);
  } else if (includes(BLACKLISTED_TAGS, tagName)) {
    result = true;
    logger.debug(`isTagBlacklisted(${tagName}) => ${result}: explicitly`);
  } else if (NUMERIC_RE.test(tagName)) {
    result = true;
    logger.debug(`isTagBlacklisted(${tagName}) => ${result}: numeric`);
  } else if (
    some(BLACKLISTED_TAG_STARTS, (blacklistedTagStart) =>
      startsWith(tagName, blacklistedTagStart),
    )
  ) {
    result = true;
    logger.debug(`isTagBlacklisted(${tagName}) => ${result}: start`);
  } else if (
    some(BLACKLISTED_TAG_ENDS, (blacklistedTagEnd) =>
      endsWith(tagName, blacklistedTagEnd),
    )
  ) {
    result = true;
    logger.debug(`isTagBlacklisted(${tagName}) => ${result}: end`);
  }
  return result;
}
/* eslint-enable sonarjs/no-duplicated-branches */
